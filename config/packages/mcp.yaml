mcp:
    app: 'Planka MCP'
    version: '1.0.0'
    description: 'MCP server for Planka 2 kanban board operations'
    client_transports:
        http: true
    http:
        path: '/_mcp'
        session:
            # File store is required because production Caddyfile runs 4 FrankenPHP workers.
            # MCP Streamable HTTP sessions span multiple requests (initialize creates session,
            # subsequent tool calls reference it via Mcp-Session-Id header). In-memory sessions
            # are per-worker and not shared, so a client session created on worker 1 would 404
            # when the next request hits worker 2. File store is shared across all workers.
            store: file
            directory: '%kernel.project_dir%/var/mcp-sessions'
    discovery:
        scan_dirs:
            - src
